<!--
  Generated template for the NotasUsuarioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar color="navega">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title> 
    Gesti√≥n de Notas
    </ion-title>
  </ion-navbar>
  <div class = "bar bar-subheader bar-assertive">
      <ion-searchbar  (ionInput)="getItems($event)" placeholder="Buscar por titulo de nota..." name="" id="clientes-search5" ></ion-searchbar>
  </div>
</ion-header>


<ion-content padding>    
  <ion-list *ngFor="let nota of listaNotas">
      <span *ngIf="nota" (ionChange)="compararFechas($event, nota.fechaAviso)"></span>
      <ion-item  text-wrap >
          <div style="float:left" class="item-note"  item-start ><ion-icon name="document" class="not" item-start ></ion-icon></div>
          <div>     
          <div style="float:left" class="item-note" item-start >
              <h2 >{{nota.clienNombre}} </h2> <h3> {{nota.fechaPublicacion|date:'dd-MMM-yyyy'}} </h3>
              <h2 style="color: #3171e0;">{{nota.titulo}}</h2>
              <p style="text-align:justify;">{{nota.descripcion}}</p> 
              <div *ngIf="nota.fechaAviso && nota.fechaAviso!=fecha">  
            <h4><ion-icon class="alarm" name="alarm"></ion-icon> {{nota.fechaAviso|date:'dd-MMM-yyyy'}}</h4>
            </div>  
            <div *ngIf="nota.fechaAviso && nota.fechaAviso==fecha">  
             <h4><ion-icon class="alar" name="alarm"></ion-icon> {{nota.fechaAviso|date:'dd-MMM-yyyy'}}</h4>
            </div> 
          </div>
        </div>
          <button class="item-note" style="float:right;"  item-end ion-button  style="background-color: #5499C7; color:white;" (click)="editarNota(nota.id)">
            <ion-icon class="borrar" name="create"></ion-icon>
          </button>
          <button class="item-note" style="float:right;"  item-end ion-button  style="background-color: #CD6155; color:white;" (click)="eliminarNota(nota)">
            <ion-icon class="borrar" name="trash"></ion-icon>
          </button>           
       </ion-item> 
      <div class="spacer" style="height:15;" ></div>
  </ion-list> 
</ion-content>

<ion-footer>
  <ion-fab size="small" bottom right>
    <button   ion-fab (click)="goToRegistroDeNotaUsuario()" >
      <ion-icon  name="add"> </ion-icon>
    </button>          
    </ion-fab>
</ion-footer>
 <!--<script>
           var a=0;
              function nextDayDate() {
                var fechaA = nota.fechaAviso;
                var fechaActual= fecha;
                
                  if((Date.parse(fechaA)) >= (Date.parse(fechaActual))){
                    a=1;
                  }
                }
                var parts ='01/07/2016'.val().split('/');
var d1 = Number(parts[2] + parts[1] + parts[0]);
parts ='20/06/2016'.val().split('/');
var d2 = Number(parts[2] + parts[1] + parts[0]);
return d1 > d2
          </script>-->